(this["webpackJsonpgraph-maker-2"]=this["webpackJsonpgraph-maker-2"]||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,a){e.exports=a(41)},,,,,function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){e.exports=a.p+"static/media/logo2.d5289957.png"},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(8),c=a.n(i),s=a(1),o=a(2),l=a(4),u=a(3),h=a(5),d=(a(19),a(20),a(6)),p=a.n(d),f=(a(22),a(23),function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.icon,a=e.onClick;return r.a.createElement("span",{className:"notranslate topbar-icon",onClick:a},r.a.createElement("i",{className:"topbar-icon-i"},t))}}]),t}(n.Component)),v=(a(24),function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.placeholder,a=e.onChange,n=e.value;return r.a.createElement("div",{className:"topbar-input-container"},r.a.createElement("input",{className:"topbar-input",value:n,placeholder:t,type:"text",spellCheck:!1,onChange:a}))}}]),t}(n.Component)),m=(a(25),a(26)),b=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"logo"},r.a.createElement("img",{src:m,alt:"logo"}))}}]),t}(n.Component),y=a(7),g=(a(27),Math.sqrt),k=Math.floor,j=Math.ceil,O=Math.abs,w=255,E=Math.pow(2,30),S=function(){function e(t){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Object(s.a)(this,e),this.size=t,this.directed=a,this.vertices=void 0,this.matrix=void 0;var n=Math.pow(t,2);if(n>E)throw new Error("Size for a Graph not allowed!");this.matrix=new Uint8Array(n).fill(w),this.vertices=new Array(t).fill("")}return Object(o.a)(e,[{key:"setMatrix",value:function(e,t,a){this.matrix[this.size*e+t]=a}},{key:"getMatrix",value:function(e,t){return this.matrix[this.size*e+t]}},{key:"heuristic",value:function(e,t){var a=j(g(this.size)),n=e%a,r=k(e/a),i=t%a,c=k(t/a);return O(n-i)+O(r-c)}},{key:"getCostAdjacency",value:function(e,t){var a=this.getMatrix(e,t);return a===w?1/0:a}},{key:"createAdjacency",value:function(e,t,a){a===1/0||a>w||a<0?this.removeAdjacency(e,t):(this.setMatrix(e,t,a),this.directed||this.setMatrix(t,e,a))}},{key:"removeAdjacency",value:function(e,t){this.setMatrix(e,t,w),this.directed&&this.setMatrix(t,e,w)}},{key:"dijkstra",value:function(e,t){for(var a,n,r,i,c=[],s=[],o=[],l=e,u=t,h=[t],d=0,p=[],f=0;f<this.size;++f)o[f]=!1,s[f]=1/0,c[f]=-1;for(o[e]=!0,s[e]=0,a=e;a!==t;){r=1/0,n=s[a];for(var v=0;v<this.size;++v)o[v]||((i=n+this.getCostAdjacency(a,v))<s[v]&&(s[v]=i,c[v]=a),s[v]<r&&(r=s[v],l=v));if(a===l){h=[],u=e;break}o[a=l]=!0}for(;u!==e&&d<this.size;)h.unshift(c[u]),u=c[u],d++;return o.forEach((function(e,t){e&&p.push(t)})),{route:h,visited:p}}},{key:"breadth",value:function(e,t){if(e<0||t>=this.size)throw new Error("Unsupported values");for(var a,n,r,i,c=[],s=[],o=[],l=e,u=t,h=[t],d=0,p=[],f=0;f<this.size;++f)o[f]=!1,s[f]=1/0,c[f]=-1;for(o[e]=!0,s[e]=0,a=e;a!==t;){r=1/0,n=s[a];for(var v=0;v<this.size;++v)o[v]||((i=n+(this.getCostAdjacency(a,v)===1/0?1/0:1))<s[v]&&(s[v]=i,c[v]=a),s[v]<r&&(r=s[v],l=v));if(a===l){h=[],u=e;break}o[a=l]=!0}for(;u!==e&&d<this.size;)h.unshift(c[u]),u=c[u],d++;return o.forEach((function(e,t){e&&p.push(t)})),{route:h,visited:p}}},{key:"greedy",value:function(e,t){if(e<0||t>=this.size)throw new Error("Unsupported values");for(var a,n,r,i=[],c=[],s=[],o=e,l=t,u=[t],h=0,d=[],p=0;p<this.size;++p)s[p]=!1,c[p]=1/0,i[p]=-1;for(s[e]=!0,c[e]=this.heuristic(e,t),a=e;a!==t;){n=1/0;for(var f=0;f<this.size;++f)s[f]||((r=this.getCostAdjacency(a,f)===1/0?1/0:this.heuristic(f,t))<c[f]&&(c[f]=r,i[f]=a),c[f]<n&&(n=c[f],o=f));if(a===o){u=[],l=e;break}s[a=o]=!0}for(;l!==e&&h<this.size;)u.unshift(i[l]),l=i[l],h++;return s.forEach((function(e,t){e&&d.push(t)})),{route:u,visited:d}}},{key:"astar",value:function(e,t){if(e<0||t>=this.size)throw new Error("Unsupported values");for(var a,n,r,i,c=[],s=[],o=[],l=e,u=t,h=[t],d=0,p=[],f=0;f<this.size;++f)o[f]=!1,s[f]=1/0,c[f]=-1;for(o[e]=!0,s[e]=0,a=e;a!==t;){r=1/0,n=s[a];for(var v=0;v<this.size;++v)o[v]||((i=n+this.getCostAdjacency(a,v)+this.heuristic(v,t))<s[v]&&(s[v]=i,c[v]=a),s[v]<r&&(r=s[v],l=v));if(a===l){h=[],u=e;break}o[a=l]=!0}for(;u!==e&&d<this.size;)h.unshift(c[u]),u=c[u],d++;return o.forEach((function(e,t){e&&p.push(t)})),{route:h,visited:p}}},{key:"toPajekString",value:function(){var e=this.size,t="*Vertices  ".concat(e,"\n");if(t+=this.vertices.map((function(e,t){return"".concat(t+1,' "').concat(e,'"\n')})).join(""),this.directed){t+="*Arcs \n";for(var a=0;a<e;++a)for(var n=0;n<e;++n){var r=this.getCostAdjacency(a,n);r!==1/0&&(t+="".concat(a+1," ").concat(n+1," ").concat(r,"\n"))}}else{t+="*Edges \n";for(var i=0;i<e;++i)for(var c=i;c<e;++c){var s=this.getCostAdjacency(i,c);s!==1/0&&(t+="".concat(i+1," ").concat(c+1," ").concat(s,"\n"))}}return t}},{key:"createVertex",value:function(e,t){this.vertices[e]=t}},{key:"getNeighboors",value:function(e){for(var t=[],a=0;a<this.size;++a)a!==e&&this.getCostAdjacency(a,e)!==1/0&&t.push(a);return t}},{key:"printAdjacencys",value:function(){for(var e=[],t=0;t<this.size;++t){e[t]=[];for(var a=0;a<this.size;++a)e[t][a]=this.getCostAdjacency(t,a)}console.table(e)}},{key:"getCostAdjacencys",value:function(){for(var e=new Uint8Array(this.size).fill(w),t=0;t<this.size;++t){var a=this.getNeighboors(t),n=Object(y.a)(a,1)[0];void 0!==n&&(e[t]=this.getCostAdjacency(n,t))}return e}}],[{key:"fromPajekString",value:function(t){for(var a,n=t.split("\n"),r=Number((n[0].match(/\d+/)||[0])[0]),i=[],c=1;c<n.length;++c)if(""!==n[c]){if("*"===n[c][0])break;var s=Number((n[c].match(/^\d+/g)||[0])[0])-1,o=(n[c].match(/".*"/g)||[""])[0].substr(1,-2);i[s]=o}if(-1!==n[c].search(/Arcs/))a=!0;else{if(-1===n[c].search(/Edges/))throw new Error("Propriedade do arquivo nao compreendida.");a=!1}for(var l=new e(r,a),u=0;u<r;++u)l.createVertex(u,i[u]||"");for(c++;c<n.length;++c)if(""!==n[c]){var h=n[c].split(" ").map(Number),d=Object(y.a)(h,3),p=d[0],f=d[1],v=d[2];if(void 0===p||void 0===f||void 0===v)throw new Error("Pajek edges can't be parsed! ".concat([p,f,v]));l.createAdjacency(p-1,f-1,v)}return l}}]),e}();function C(e){console.log(e)}var x=Math.floor,A=Math.random,N=Math.round,z=Math.ceil,M=Math.sqrt,P=["originPath","endPath"],B=["originPath","endPath","isSearchEnable","searchMethod"],V={max:w,min:0},L=function(){function e(t){var a=this;Object(s.a)(this,e),this.graph=void 0,this.costVerts=void 0,this.numberOfBlocksPerLine=void 0,this.numberOfBlocks=void 0,this.blockSize={x:0,y:0},this.currentSearch=function(){return a.graph[K.searchMethod](K.originPath,K.endPath)},this.drawL2=function(){var e=a.context[1];e&&(e.clearRect(0,0,_.canvas[1].width,_.canvas[1].height),a.drawBlock(K.originPath,"LawnGreen",1),a.drawBlock(K.endPath,"DodgerBlue",1))},this.proccesSearch=function(){if(a.clearL3(),!K.isSearchEnable)return K.pathSize=-1,K.pathCost=-1,void(K.numberVisisted=-1);C("!! Searching...");var e=a.currentSearch(),t=e.route,n=e.visited;a.drawBlocks(n),a.drawRoute(t),0===t.length||t.includes(w)?(K.pathCost=-1,K.pathSize=-1):(K.pathCost=t.reduce((function(e,t){return e+a.costVerts[t]}),0),K.pathSize=t.length),K.numberVisisted=n.length},"string"===typeof t?(this.graph=S.fromPajekString(t),this.numberOfBlocks=this.graph.size,this.costVerts=this.graph.getCostAdjacencys(),this.numberOfBlocksPerLine=z(M(this.numberOfBlocks))):(this.numberOfBlocks=t,this.graph=new S(t,!0),this.costVerts=this.generateRandomCosts(),this.numberOfBlocksPerLine=z(M(t)),this.makeRandomGraph()),this.refreshScreen(),this.proccesSearch(),K.listen(this.proccesSearch,B),K.listen(this.drawL2,P)}return Object(o.a)(e,[{key:"generateRandomCosts",value:function(){var e=new Uint8Array(this.numberOfBlocks);return e.forEach((function(t,a){return e[a]=x(A()*(V.max-1)+1)})),e}},{key:"makeRandomGraph",value:function(){for(var e=this.numberOfBlocksPerLine,t=this.numberOfBlocks,a=this.costVerts,n=this.graph,r=0;r<e;r++){var i=r%e;0===i?(n.createAdjacency(r,r+1,a[r+1]),n.createAdjacency(r,r+e,a[r+e])):i===e-1?(n.createAdjacency(r,r-1,a[r-1]),n.createAdjacency(r,r+e,a[r+e])):(n.createAdjacency(r,r+1,a[r+1]),n.createAdjacency(r,r-1,a[r-1]),n.createAdjacency(r,r+e,a[r+e]))}for(var c=e;c<t-e;c++){var s=c%e;0===s?(n.createAdjacency(c,c+1,a[c+1]),n.createAdjacency(c,c+e,a[c+e]),n.createAdjacency(c,c-e,a[c-e])):s===e-1?(n.createAdjacency(c,c-1,a[c-1]),n.createAdjacency(c,c+e,a[c+e]),n.createAdjacency(c,c-e,a[c-e])):(n.createAdjacency(c,c+1,a[c+1]),n.createAdjacency(c,c-1,a[c-1]),n.createAdjacency(c,c+e,a[c+e]),n.createAdjacency(c,c-e,a[c-e]))}for(var o=t-e;o<t;o++){var l=o%e;0===l?(n.createAdjacency(o,o+1,a[o+1]),n.createAdjacency(o,o-e,a[o-e])):l===e-1?(n.createAdjacency(o,o-1,a[o-1]),n.createAdjacency(o,o-e,a[o-e])):(n.createAdjacency(o,o+1,a[o+1]),n.createAdjacency(o,o-1,a[o-1]),n.createAdjacency(o,o-e,a[o-e]))}}},{key:"drawBlocks",value:function(e){var t=this;e.forEach((function(e){return t.drawBlock(e,"rgba(0,0,0,0.5)",2)}))}},{key:"drawRoute",value:function(e){var t=this.numberOfBlocksPerLine,a=this.blockSize,n={x:e[0]%t*a.x+a.x/2,y:x(e[0]/t)*a.y+a.y/2},r=this.context[2];r.strokeStyle="white",r.lineCap="round",r.lineWidth=a.x/4,r.beginPath(),r.moveTo(n.x,n.y);var i=!0,c=!1,s=void 0;try{for(var o,l=e[Symbol.iterator]();!(i=(o=l.next()).done);i=!0){var u=o.value;n={x:u%t*a.x+a.x/2,y:x(u/t)*a.y+a.y/2},r.lineTo(n.x,n.y)}}catch(h){c=!0,s=h}finally{try{i||null==l.return||l.return()}finally{if(c)throw s}}r.stroke()}},{key:"getColor",value:function(e){var t=V.max,a=this.costVerts[e];if(a===t)return"rgb(37, 40, 57)";var n=t-a,r=N(.68*n)+173;return"rgb(255, ".concat(r,", ").concat(n,")")}},{key:"drawL1",value:function(){var e=Object(y.a)(this.context,1)[0];if(e){e.clearRect(0,0,_.canvas[0].width,_.canvas[0].height);for(var t=0;t<this.numberOfBlocks;++t)this.drawBlock(t,this.getColor(t),0)}}},{key:"drawL3",value:function(){var e=this.context[2];if(e){var t=_.canvas[2],a=t.width,n=t.height;e.clearRect(0,0,a,n)}}},{key:"clearL3",value:function(){this.context[2].clearRect(0,0,_.canvas[0].width,_.canvas[0].height)}},{key:"drawBlock",value:function(e,t,a){var n=e%this.numberOfBlocksPerLine*this.blockSize.x,r=x(e/this.numberOfBlocksPerLine)*this.blockSize.y,i=.05*this.blockSize.x+n,c=.05*this.blockSize.y+r,s=.9*this.blockSize.x,o=.9*this.blockSize.y;this.context[a].fillStyle=t,this.context[a].fillRect(i,c,s,o)}},{key:"indexFromClick",value:function(e){return x(e.offsetX/this.blockSize.x)+x(e.offsetY/this.blockSize.y)*this.numberOfBlocksPerLine}},{key:"setBeginPoint",value:function(e){K.originPath=this.indexFromClick(e)}},{key:"setDestinationPoint",value:function(e){K.endPath=this.indexFromClick(e)}},{key:"setValueForVertice",value:function(e){this.setValueForVerticeI(this.indexFromClick(e),K.obstacleIntensity)}},{key:"setValueForVerticeI",value:function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=this.numberOfBlocksPerLine,r=this.numberOfBlocks,i=this.costVerts,c=this.graph,s=e%n;i[e]=t,e>=n&&e<r-n?0===s?(c.createAdjacency(e+1,e,i[e]),c.createAdjacency(e+n,e,i[e]),c.createAdjacency(e-n,e,i[e])):s===n-1?(c.createAdjacency(e-1,e,i[e]),c.createAdjacency(e+n,e,i[e]),c.createAdjacency(e-n,e,i[e])):(c.createAdjacency(e+1,e,i[e]),c.createAdjacency(e-1,e,i[e]),c.createAdjacency(e+n,e,i[e]),c.createAdjacency(e-n,e,i[e])):e<n?0===s?(c.createAdjacency(e+1,e,i[e]),c.createAdjacency(e+n,e,i[e])):s===n-1?(c.createAdjacency(e-1,e,i[e]),c.createAdjacency(e+n,e,i[e])):(c.createAdjacency(e+1,e,i[e]),c.createAdjacency(e-1,e,i[e]),c.createAdjacency(e+n,e,i[e])):e>=r-n&&(0===s?(c.createAdjacency(e+1,e,i[e]),c.createAdjacency(e-n,e,i[e])):s===n-1?(c.createAdjacency(e-1,e,i[e]),c.createAdjacency(e-n,e,i[e])):(c.createAdjacency(e+1,e,i[e]),c.createAdjacency(e-1,e,i[e]),c.createAdjacency(e-n,e,i[e]))),this.drawBlock(e,this.getColor(e),0),this.proccesSearch(),a&&K.graphVersionUpdate++}},{key:"refreshScreen",value:function(){var e=Object(y.a)(_.canvas,1)[0];e&&(this.blockSize={x:e.width/this.numberOfBlocksPerLine,y:e.height/this.numberOfBlocksPerLine},this.drawAll())}},{key:"loadFromPajek",value:function(e){this.graph=S.fromPajekString(e),this.numberOfBlocks=this.graph.size,this.numberOfBlocksPerLine=z(M(this.numberOfBlocks)),this.costVerts=this.graph.getCostAdjacencys(),this.drawAll()}},{key:"drawAll",value:function(){this.drawL1(),this.drawL2(),this.drawL3()}},{key:"toString",value:function(){return this.graph.toPajekString()}},{key:"destruct",value:function(){delete this.graph,K.stopListen(this.proccesSearch,B),K.stopListen(this.drawL2,P)}},{key:"toImageString",value:function(){var e=Math.sqrt(this.numberOfBlocks),t=document.createElement("canvas"),a=t.getContext("2d"),n=new Uint8ClampedArray(4*this.costVerts.length);this.costVerts.forEach((function(e,t){var a=4*t,r=a+3;n.fill(255-e,a,r),n[r]=255}));var r=new ImageData(n,e,e);return a.canvas.height=e,a.canvas.width=e,a.putImageData(r,0,0),t.toDataURL()}},{key:"context",get:function(){return _.ctx}},{key:"currentDrawing",get:function(){return this[K.drawingMethod]}}]),e}(),G=a(13),D=a(11),F=function(e){function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9,n=arguments.length>1?arguments[1]:void 0;return Object(s.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this,n))).endPath=a,e.nextSize=1024,e.obstacleIntensity=0,e.graphName="",e.searchMethod=R.Dijkstra,e.drawingMethod=I.BeginPoint,e.originPath=0,e.isSearchEnable=!1,e.pathSize=0,e.pathCost=0,e.numberVisisted=0,e.graphVersionUpdate=0,e}return Object(h.a)(t,e),t}(function(){function e(t){return Object(s.a)(this,e),this.emitter=void 0,this.emitter=(null===t||void 0===t?void 0:t.emitter)||new D.EventEmitter,new Proxy(this,{set:this.set})}return Object(o.a)(e,[{key:"set",value:function(e,t,a){return e[t]===a||(e[t]=a,C("[] ".concat(t,": ").concat(a)),e.dispatch([].concat(Object(G.a)(e.all),[t])),!0)}},{key:"dispatch",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.all;t.forEach((function(t){return e.emitter.emit(t)}))}},{key:"listen",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.all;a.forEach((function(a){return t.emitter.addListener(a,e)}))}},{key:"stopListen",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.all;a.forEach((function(a){return t.emitter.removeListener(a,e)}))}},{key:"all",get:function(){return["*"]}}]),e}()),T=a(9);function U(e){var t,a,n,r,i,c,s;return p.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,p.a.awrap(Object(T.read)(e));case 2:for(t=o.sent,a=Math.min(t.getHeight(),t.getWidth(),50),t.resize(a,a).grayscale(),K.nextSize=Math.pow(a,2),q.resetGraph(),n=0,r=0;r<a;++r)for(i=0;i<a;++i)c=Object(T.intToRGBA)(t.getPixelColor(i,r)),s=c.r,q.map.setValueForVerticeI(n++,255-s,!1);case 9:case"end":return o.stop()}}))}var R,I,W=1e3,J=function(){function e(){var t=this;Object(s.a)(this,e),this.lastBackup=new Date,this.timout=0,this.cachePajek=void 0,this.lastCacheBackup=new Date,this.cacheTimout=0,this.checkCache=function(){var e=q.map;if(e){var a=(new Date).getTime()-t.lastCacheBackup.getTime();if(window.clearTimeout(t.cacheTimout),a>W&&e){t.lastCacheBackup=new Date,t.cachePajek=e.toString();var n=(new Date).getTime()-t.lastCacheBackup.getTime();C("-> Cache backup was made in ".concat(n,"ms"))}else t.cacheTimout=window.setTimeout(t.checkCache,W)}},this.check=function(){var e=(new Date).getTime()-t.lastBackup.getTime();window.clearTimeout(t.timout),e>W?t.backup():t.timout=window.setTimeout(t.check,W)},K.listen(this.checkCache,["graphVersionUpdate"]),K.listen(this.check)}return Object(o.a)(e,[{key:"backup",value:function(){if(this.cachePajek){var e=new Date,t=this.graphToString();localStorage.setItem("GraphMakerState",t),this.lastBackup=new Date;var a=this.lastBackup.getTime()-e.getTime();C("-> Backup was made in ".concat(a,"ms"))}}},{key:"restore",value:function(){var e,t,a;return p.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,e=new Date,t=localStorage.getItem("GraphMakerState")){n.next=7;break}return n.next=6,p.a.awrap(U("smile.png"));case 6:return n.abrupt("return",!0);case 7:q.loadGraphFile(t),a=(new Date).getTime()-e.getTime(),C("<- Restore was made in ".concat(a,"ms")),n.next=16;break;case 12:return n.prev=12,n.t0=n.catch(0),console.error(n.t0),n.abrupt("return",!1);case 16:return n.prev=16,n.abrupt("return",!0);case 19:case"end":return n.stop()}}),null,null,[[0,12,16,19]])}},{key:"graphToString",value:function(){var e=JSON.parse(JSON.stringify(K));delete e.emitter;var t={graphState:e,pajek:this.cachePajek,date:new Date};return JSON.stringify(t)}}]),e}();!function(e){e.Dijkstra="dijkstra",e.BreadthFirstSearch="breadth",e.GreedyFirstSearch="greedy",e.AStart="astar"}(R||(R={})),function(e){e.BeginPoint="setBeginPoint",e.DestinyPoint="setDestinationPoint",e.Obstacle="setValueForVertice"}(I||(I={}));var K=new F,q=function(){function e(){Object(s.a)(this,e)}return Object(o.a)(e,null,[{key:"resetGraph",value:function(e){if(e)Object.assign(K,e.graphState),this.map&&this.map.destruct(),this.map=new L(e.pajek);else{var t=K.nextSize;K=new F(t-1,K),this.map&&this.map.destruct(),this.map=new L(t)}K.graphVersionUpdate++}},{key:"loadGraphFile",value:function(e){try{var t=JSON.parse(e);if(!t.graphState||!t.pajek)throw new Error("Data not valid for Graph Maker");this.resetGraph(t)}catch(a){console.error(a)}}},{key:"resizeCanvas",value:function(){var e=document.getElementById("graph-container"),t=e.offsetHeight,a=e.offsetWidth,n=Math.min(t,a),r=!0,i=!1,c=void 0;try{for(var s,o=_.canvas[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){var l=s.value;l.height=n,l.width=n}}catch(u){i=!0,c=u}finally{try{r||null==o.return||o.return()}finally{if(i)throw c}}this.map&&this.map.refreshScreen()}},{key:"draw",value:function(e){this.map[K.drawingMethod](e)}}]),e}();q.map=void 0;var _=function e(){Object(s.a)(this,e)};_.canvas=[],_.ctx=[],_.stateKeeper=new J;var H=["PNG","JPG","JPEG"],Y=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).loadFile=function(e){var t,a,n,r,i,c;return p.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(t=e.target.files,a=Object(y.a)(t,1),n=a[0]){s.next=3;break}return s.abrupt("return");case 3:if(r=n.name.split(".").pop()){s.next=6;break}return s.abrupt("return");case 6:if(i=r.toUpperCase(),c=new FileReader,"JSON"!==i){s.next=15;break}return c.readAsText(n),s.next=12,p.a.awrap(new Promise((function(e){return c.onload=e})));case 12:q.loadGraphFile(c.result),s.next=21;break;case 15:if(!H.includes(i)){s.next=21;break}return c.readAsDataURL(n),s.next=19,p.a.awrap(new Promise((function(e){return c.onload=e})));case 19:return s.next=21,p.a.awrap(U(c.result));case 21:document.getElementById("file-selector").value="";case 23:case"end":return s.stop()}}))},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"button-readfile-container"},r.a.createElement("input",{className:"button-readfile",id:"file-selector",type:"file",onChange:this.loadFile}),r.a.createElement("label",{htmlFor:"file-selector"},r.a.createElement(f,{icon:"folder_open"})))}}]),t}(n.Component);function X(){return p.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.awrap(a.e(3).then(a.t.bind(null,45,7)));case 2:return e.abrupt("return",e.sent.remote);case 3:case"end":return e.stop()}}))}var Q=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).update=function(){a.forceUpdate()},a.saveFile=function(){var e=new Blob([_.stateKeeper.graphToString()],{type:"txt"}),t=(K.graphName||"Graph Maker")+".json",a=document.createElement("a"),n=URL.createObjectURL(e);window.navigator.msSaveOrOpenBlob?window.navigator.msSaveOrOpenBlob(e,t):(a.href=n,a.download=t,a.click(),window.URL.revokeObjectURL(n))},a.openGitHub=function(){window.open("https://github.com/Guilherme8482/graph-maker")},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){K.listen(this.update,["graphName"])}},{key:"componentWillUnmount",value:function(){K.stopListen(this.update,["graphName"])}},{key:"minimize",value:function(){return p.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.awrap(X());case 2:e.sent.getCurrentWindow().minimize();case 4:case"end":return e.stop()}}))}},{key:"close",value:function(){return p.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.awrap(X());case 2:e.sent.getCurrentWindow().close();case 4:case"end":return e.stop()}}))}},{key:"fullscreen",value:function(){var e,t,a;return p.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,p.a.awrap(X());case 2:e=n.sent,t=e.getCurrentWindow(),a=t.isFullScreen(),t.setFullScreen(!a);case 6:case"end":return n.stop()}}))}},{key:"electronWindowActions",value:function(){var e=[r.a.createElement(f,{key:0,icon:"info_outline",onClick:this.openGitHub})];return r.a.createElement("div",{className:"topbar-right"},e)}},{key:"render",value:function(){var e=this.props.openGraphSetup,t=K.graphName;return r.a.createElement("div",{className:"topbar-container"},r.a.createElement("div",{className:"topbar-left"},r.a.createElement(b,null),r.a.createElement("div",{className:"topbar-title"},"Graph maker"),r.a.createElement("span",{title:"New graph map"},r.a.createElement(f,{icon:"insert_drive_file",onClick:e})),r.a.createElement("span",{title:"Open images or graph.json"},r.a.createElement(Y,null)),r.a.createElement("span",{title:"Save graph map"},r.a.createElement(f,{icon:"save",onClick:this.saveFile})),r.a.createElement(v,{placeholder:"Choose a name",value:t,onChange:function(e){return K.graphName=e.target.value}})),this.electronWindowActions())}}]),t}(n.Component),Z=(a(29),a(30),function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.label,a=e.onClick;return r.a.createElement("div",{onClick:a},r.a.createElement("button",{className:"sidebar-button"},t))}}]),t}(n.Component)),$=(a(31),function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.value,a=e.label;return r.a.createElement("div",{className:"datafield-result-container"},r.a.createElement("div",{className:"datafield-result-title"},a),r.a.createElement("div",{className:"datafield-result"},-1===t?"\u221e":t))}}]),t}(n.Component)),ee=(a(32),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={value:0},a.setValue=function(e){a.setState({value:e}),a.props.onChange(e)},a.inputOnKeyPress=function(e){var t=a.state.value;if("ArrowUp"===e.key)t++;else{if("ArrowDown"!==e.key)return;t--}a.setValue(a.normaliaze(t))},a.inputOnValueChange=function(e){var t=Number(e.currentTarget.value.replace(/\D/g,""));a.setValue(a.normaliaze(t))},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.value;this.setState({value:t})}},{key:"normaliaze",value:function(e){return e>V.max&&(e=V.max),e<V.min&&(e=V.min),e}},{key:"render",value:function(){var e=this,t=this.props,a=t.className,n=t.label,i=this.state.value;return r.a.createElement("div",{className:"sidebar-slidebar-container ".concat(a)},r.a.createElement("div",{className:"sidebar-slidebar-title"},n,":"),r.a.createElement("div",{className:"sidebar-slidebar-slidecontainer"},r.a.createElement("input",{className:"sidebar-slidebar",type:"range",min:V.min,max:V.max,value:i,onChange:function(t){return e.setValue(Number(t.target.value))}}),r.a.createElement("input",{className:"sidebar-slidebar-numberfield",type:"text",min:V.min,max:V.max,value:i===V.max?"\u221e":i,onKeyDown:this.inputOnKeyPress,onChange:this.inputOnValueChange})))}}]),t}(n.Component)),te=(a(33),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={selected:0,clicked:!1},a.onMouseMove=function(e){if(a.state.clicked){var t=0|(e.pageY-e.currentTarget.getBoundingClientRect().top)/30;if(!(t===a.state.selected||t<0||t>=a.props.options.length)){a.setState({selected:t});var n=a.props,r=n.onChange,i=n.options;r&&r(i[t])}}},a.changeSelectedListeners={},a.setClicked=function(){a.setState({clicked:!0})},a.setNotClicked=function(){a.setState({clicked:!1})},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.selected,a=e.options;this.setState({selected:a.indexOf(t)})}},{key:"changeSelected",value:function(e){var t=this,a=this.changeSelectedListeners[e];return a||(this.changeSelectedListeners[e]=function(){var a=t.props,n=a.options,r=a.onChange;t.setState({selected:n.indexOf(e)}),r&&r(e)})}},{key:"render",value:function(){var e=this,t=this.props,a=t.label,n=t.options,i=t.optionLabels,c=this.state.selected,s=i||n;return r.a.createElement("div",{className:"slideselect-container"},r.a.createElement("div",{className:"slideselect-title"},a,":"),r.a.createElement("div",{onMouseDown:this.setClicked,onMouseUp:this.setNotClicked,onMouseMove:this.onMouseMove,onMouseLeave:this.setNotClicked},r.a.createElement("div",{className:"slideselect-options-container"},r.a.createElement("div",{style:{height:0}},r.a.createElement("div",{className:"slideselect-selected",style:{top:30*c+"px"}})),n.map((function(t,a){return r.a.createElement("div",{className:"slideselect-option",key:a,onClick:e.changeSelected(t)},s[a])})))))}}]),t}(n.Component)),ae=Object.values(R),ne=["Dijkstra","First Breadth","First Greedy","A*"],re=Object.values(I),ie=["Start Point","End Point","Intensity Point"],ce=["searchMethod","isSearchEnable","drawingMethod","pathSize","pathCost","numberVisisted"],se=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).update=function(){a.forceUpdate()},a.setSearchMethod=function(e){K.searchMethod=e},a.setDrawingMethod=function(e){K.drawingMethod=e},a.findPath=function(){K.isSearchEnable=!K.isSearchEnable,a.forceUpdate()},a.setObstacleIntensity=function(e){K.obstacleIntensity=e},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){K.listen(this.update,ce)}},{key:"componentWillUnmount",value:function(){K.stopListen(this.update,ce)}},{key:"render",value:function(){var e=K.isSearchEnable,t=K.obstacleIntensity,a=K.pathSize,n=K.pathCost,i=K.numberVisisted,c=K.searchMethod,s=K.drawingMethod;return r.a.createElement("div",{className:"sidebar-container"},r.a.createElement("div",{className:"sidebar-subcontainer"},r.a.createElement("div",{className:"sidebar-title"},r.a.createElement("span",{className:"notranslate"},r.a.createElement("i",{className:"material-icons"},"settings")),r.a.createElement("div",{className:"sidebar-title-text"},"Options")),r.a.createElement(te,{label:"Search mode",options:ae,optionLabels:ne,selected:c,onChange:this.setSearchMethod}),r.a.createElement(Z,{label:e?"Stop":"Find",onClick:this.findPath}),r.a.createElement(te,{label:"Drawing mode",options:re,optionLabels:ie,selected:s,onChange:this.setDrawingMethod}),r.a.createElement(ee,{className:s===I.Obstacle?"":"sidebar-slidebar-hide",label:"Obstacle intensity",value:t,onChange:this.setObstacleIntensity}),r.a.createElement($,{label:"Path size",value:a}),r.a.createElement($,{label:"Path cost",value:n}),r.a.createElement($,{label:"Number of visisted",value:i})))}}]),t}(n.Component),oe=(a(34),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isClicked:!1},a.setClick=function(e){a.setState({isClicked:e})},a.onMouseMove=function(e){a.state.isClicked&&q.draw(e.nativeEvent)},a.onClick=function(e){q.draw(e.nativeEvent)},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e,t,a;return p.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e=document.getElementById("graph-container"),t=e.children){n.next=3;break}return n.abrupt("return");case 3:return a=[0,1,2].map((function(e){return t.item(e)})),_.canvas=a,_.ctx=_.canvas.map((function(e){return e.getContext("2d")})),q.resizeCanvas(),window.addEventListener("resize",(function(){return q.resizeCanvas()})),n.next=10,p.a.awrap(_.stateKeeper.restore());case 10:n.sent||q.resetGraph();case 12:case"end":return n.stop()}}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"graph-container",id:"graph-container"},r.a.createElement("canvas",{className:"graph-canvas"}),r.a.createElement("canvas",{className:"graph-canvas"}),r.a.createElement("canvas",{className:"graph-canvas",onMouseDown:function(){return e.setClick(!0)},onMouseUp:function(){return e.setClick(!1)},onMouseMove:this.onMouseMove,onClick:this.onClick}))}}]),t}(n.Component)),le=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.openGraphSetup;return r.a.createElement("div",{className:"main-container"},r.a.createElement("div",{className:"main-topbar"},r.a.createElement(Q,{openGraphSetup:e})),r.a.createElement("div",{className:"main-midcontent"},r.a.createElement(se,null),r.a.createElement(oe,null)))}}]),t}(n.Component),ue=(a(35),a(36),function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.closeGraphSetup;return r.a.createElement("div",{className:"topbar-container topbar-handler"},r.a.createElement("div",{className:"topbar-left"},r.a.createElement(b,null),r.a.createElement("div",{className:"topbar-title"},"Graph maker")),r.a.createElement("div",{className:"topbar-right"},r.a.createElement(f,{icon:"close",onClick:e})))}}]),t}(n.Component)),he=(a(37),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).confirm=function(){q.resetGraph(),a.props.closeSetupGraph()},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"botbar-container"},r.a.createElement("div",{className:"botbar-left"}),r.a.createElement("div",{className:"botbar-right"},r.a.createElement(f,{icon:"arrow_forward",onClick:this.confirm})))}}]),t}(n.Component)),de=(a(38),a(39),Math.round),pe=Math.sqrt,fe=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state=void 0,a.onBlur=function(e){var t=Number(e.target.value);a.normalizeSize(t)},a.onChange=function(e){var t=Number(e.target.value);a.setState({value:t})},a.onKeyPress=function(e){"Enter"===e.key&&(a.normalizeSize(a.state.value),q.resetGraph(),a.props.onEnter())},a.state={value:e.defaultValue},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"normalizeSize",value:function(e){Math.pow(e,2)>E&&(e=pe(E));var t=Math.pow(de(pe(e)),2);this.setState({value:t}),K.nextSize=t}},{key:"render",value:function(){return r.a.createElement("div",{className:"input-container"},r.a.createElement("b",null,this.props.label,":"),r.a.createElement("input",{type:"number",className:"squarerootinput-size",min:9,value:this.state.value,onChange:this.onChange,onBlur:this.onBlur,onKeyDown:this.onKeyPress,autoFocus:!0}))}}]),t}(n.Component),ve=(a(40),function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"warning"},this.props.message))}}]),t}(n.Component)),me=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"middle-container"},r.a.createElement("div",{className:"middle-subcontainer"},r.a.createElement(fe,{label:"Size",defaultValue:K.nextSize,onEnter:this.props.onEnter}),r.a.createElement(ve,{message:"Size value must be a square root valid"})))}}]),t}(n.Component),be=a(12),ye=a.n(be),ge=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.closeSetupGraph;return r.a.createElement(ye.a,{handle:".topbar-handler"},r.a.createElement("div",{className:"setupgraph-container"},r.a.createElement("div",{className:"topbar"},r.a.createElement(ue,{closeGraphSetup:e})),r.a.createElement("div",{className:"middledata"},r.a.createElement(me,{onEnter:e})),r.a.createElement("div",{className:"bottombar"},r.a.createElement(he,{closeSetupGraph:e}))))}}]),t}(n.Component),ke=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isSetupVisible:!1},a.setVisibleSetupGraph=function(e){a.setState({isSetupVisible:e})},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"getSetupGraph",value:function(){var e=this;return this.state.isSetupVisible?r.a.createElement("div",{className:"float-container"},r.a.createElement(ge,{closeSetupGraph:function(){return e.setVisibleSetupGraph(!1)}})):r.a.createElement("div",null)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"main-container"},r.a.createElement(le,{openGraphSetup:function(){return e.setVisibleSetupGraph(!0)}}),this.getSetupGraph())}}]),t}(n.Component);document.addEventListener("contextmenu",(function(e){return e.preventDefault()})),c.a.render(r.a.createElement(ke,null),document.getElementById("root"))}],[[14,1,2]]]);
//# sourceMappingURL=main.9d0866b1.chunk.js.map